<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=language content="en"><meta name=viewport content="width=device-width"><title>Highlight syntax in Go templates | Yunus Emre Tapan
</title><meta name=description content="Go template files are often named example.html.tmpl or example.md.tmpl to indicate they’re templates for specific formats.
However, the .tmpl extension can prevent Neovim from highlighting the underlying syntax, making them harder to edit.
Here’s how to configure Neovim to highlight these files correctly:
Create the file ~/.config/$NVIM_APPNAME/syntax/gotmpl.vim with the following content to configure basic highlighting of Go template code in {{ ... }} delimiters:
vim vim code snippet start"><link rel=icon type=image/svg+xml href=https://tapanyemre.github.io/blog/images/favicon.svg><link rel=icon type=image/png href=https://tapanyemre.github.io/blog/images/favicon.png><meta property="og:url" content="https://tapanyemre.github.io/blog/notes/nvim-go-template-syntax-highlighting/"><meta property="og:site_name" content="Yunus Emre Tapan"><meta property="og:title" content="Highlight syntax in Go templates"><meta property="og:description" content="Go template files are often named example.html.tmpl or example.md.tmpl to indicate they’re templates for specific formats.
However, the .tmpl extension can prevent Neovim from highlighting the underlying syntax, making them harder to edit.
Here’s how to configure Neovim to highlight these files correctly:
Create the file ~/.config/$NVIM_APPNAME/syntax/gotmpl.vim with the following content to configure basic highlighting of Go template code in {{ ... }} delimiters:
vim vim code snippet start"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-10-27T00:00:00+00:00"><meta itemprop=name content="Highlight syntax in Go templates"><meta itemprop=description content="Go template files are often named example.html.tmpl or example.md.tmpl to indicate they’re templates for specific formats.
However, the .tmpl extension can prevent Neovim from highlighting the underlying syntax, making them harder to edit.
Here’s how to configure Neovim to highlight these files correctly:
Create the file ~/.config/$NVIM_APPNAME/syntax/gotmpl.vim with the following content to configure basic highlighting of Go template code in {{ ... }} delimiters:
vim vim code snippet start"><meta itemprop=datePublished content="2024-10-27T00:00:00+00:00"><meta itemprop=wordCount content="607"><meta itemprop=keywords content="Neovim,Golang"><meta name=twitter:card content="summary"><meta name=twitter:title content="Highlight syntax in Go templates"><meta name=twitter:description content="Go template files are often named example.html.tmpl or example.md.tmpl to indicate they’re templates for specific formats.
However, the .tmpl extension can prevent Neovim from highlighting the underlying syntax, making them harder to edit.
Here’s how to configure Neovim to highlight these files correctly:
Create the file ~/.config/$NVIM_APPNAME/syntax/gotmpl.vim with the following content to configure basic highlighting of Go template code in {{ ... }} delimiters:
vim vim code snippet start"><link rel=canonical href=https://tapanyemre.github.io/blog/notes/nvim-go-template-syntax-highlighting/><link rel=stylesheet href=https://tapanyemre.github.io/blog/css/index.min.7dc5bce5e48ff3fe71c582eac851646db39f1a70e9dc6198c199a3189731869e.css integrity="sha256-fcW85eSP8/5xxYLqyFFkbbOfGnDp3GGYwZmjGJcxhp4=" crossorigin=anonymous><script src=https://tapanyemre.github.io/blog/js/main.d08dd7bf84e75145632853df5565c828a4a44de84df4bf08672d692241737c30.js integrity="sha256-0I3Xv4TnUUVjKFPfVWXIKKSkTehN9L8IZy1pIkFzfDA=" crossorigin=anonymous defer></script><script type=application/ld+json>{"@context":"https://schema.org/","@id":"https://tapanyemre.github.io/blog/notes/nvim-go-template-syntax-highlighting/","@type":"BlogPosting","articleSection":["Neovim","Golang"],"author":{"@type":"Person","email":"tapanyemre@gmail.com","name":"Yunus Emre Tapan","url":"https://tapanyemre.github.io/blog/about/"},"copyrightNotice":"Yunus Emre Tapan","datePublished":"2024-10-27","description":"Go template files are often named example.html.tmpl or example.md.tmpl to indicate they’re templates for specific formats.\nHowever, the .tmpl extension can prevent Neovim from highlighting the underlying syntax, making them harder to edit.\nHere’s how to configure Neovim to highlight these files correctly:\nCreate the file ~/.config/$NVIM_APPNAME/syntax/gotmpl.vim with the following content to configure basic highlighting of Go template code in {{ ... }} delimiters:\nvim vim code snippet start","headline":"Highlight syntax in Go templates","isPartOf":{"@id":"https://tapanyemre.github.io/blog/notes/","@type":"Blog","name":"Notes"},"mainEntityOfPage":"https://tapanyemre.github.io/blog/notes/nvim-go-template-syntax-highlighting/","name":"Highlight syntax in Go templates","timeRequired":"PT3M","url":"https://tapanyemre.github.io/blog/notes/nvim-go-template-syntax-highlighting/","wordCount":607}</script></head><body><div class="container mx-auto flex max-w-prose flex-col space-y-10 p-4 md:p-6"><header class="flex flex-row items-center justify-between"><div><a id=skip-nav class=sr-only href=#maincontent>Skip to main content</a>
<a class=font-semibold href=https://tapanyemre.github.io/blog/>Yunus Emre Tapan</a></div><nav><ul class="flex flex-row items-center justify-end space-x-4"><li><a href=https://tapanyemre.github.io/blog/about/>About</a></li><li><a href=https://tapanyemre.github.io/blog/posts/>Posts</a></li><li><a aria-current=true class=ancestor href=https://tapanyemre.github.io/blog/notes/>Notes</a></li><li><a href=https://tapanyemre.github.io/blog/graph/>Graph</a></li></ul></nav></header><main class="prose prose-slate relative md:prose-lg prose-h1:text-[2em]" id=maincontent><article class=main><header><h1 class=!mb-1>Highlight syntax in Go templates</h1><div class="flex flex-row items-center space-x-4"><time class="text-sm italic opacity-80" datetime=2024-10-27T00:00:00+00:00>October 27, 2024</time></div></header><p>Go <a href=https://pkg.go.dev/text/template>template</a> files are often named example.html.tmpl or example.md.tmpl to indicate they’re templates for specific formats.</p><p>However, the .tmpl extension can prevent Neovim from highlighting the underlying syntax, making them harder to edit.</p><p>Here’s how to configure Neovim to highlight these files correctly:</p><p>Create the file <code>~/.config/$NVIM_APPNAME/syntax/gotmpl.vim</code> with the following content to configure basic highlighting
of Go template code in <code>{{ ... }}</code> delimiters:</p><figure class="codeblock not-prose relative scroll-mt-8" id=codeblock-01><aside class="absolute right-0 top-0 hidden rounded-bl-sm rounded-tr-sm bg-white/10 px-2 py-1 text-white/70 transition-opacity md:inline-block"><div class="codeblock-meta flex max-w-xs flex-row items-center space-x-3"><div class="small-caps shrink cursor-default truncate font-mono text-xs" aria-hidden=true><span class=relative>vim</span></div><div><clipboard-copy type=button aria-label="Copy code to clipboard" title="Copy code to clipboard" class="block cursor-pointer transition-colors hover:text-sky-400" target="#codeblock-01 code"><svg fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard h-4 w-4" viewBox="0 0 24 24"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/></svg></clipboard-copy></div><div><a href=#codeblock-01 class=block aria-label="Link to this code block" title="Link to this code block"><svg width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-link w-4 h-4 block" viewBox="0 0 24 24"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></div></div></aside><p class=sr-only>vim code snippet start</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=c>&#34; Copyright 2011 The Go Authors. All rights reserved.</span>
</span></span><span class=line><span class=cl><span class=c>&#34; Use of this source code is governed by a BSD-style</span>
</span></span><span class=line><span class=cl><span class=c>&#34; license that can be found in the LICENSE file.</span>
</span></span><span class=line><span class=cl><span class=c>&#34;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; gotpl.vim: Vim syntax file for Go templates.</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Quit when a (custom) syntax file was already loaded</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>exists</span><span class=p>(</span><span class=s2>&#34;b:current_syntax&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>finish</span>
</span></span><span class=line><span class=cl><span class=k>endif</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>case</span> <span class=nx>match</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Go escapes</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goEscapeOctal</span>       <span class=nx>display</span> <span class=nx>contained</span> <span class=s2>&#34;\\[0-7]\{3}&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goEscapeC</span>           <span class=nx>display</span> <span class=nx>contained</span> <span class=p>+</span>\\[<span class=nx>abfnrtv</span>\\&#39;&#34;]<span class=p>+</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goEscapeX</span>           <span class=nx>display</span> <span class=nx>contained</span> <span class=s2>&#34;\\x\x\{2}&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goEscapeU</span>           <span class=nx>display</span> <span class=nx>contained</span> <span class=s2>&#34;\\u\x\{4}&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goEscapeBigU</span>        <span class=nx>display</span> <span class=nx>contained</span> <span class=s2>&#34;\\U\x\{8}&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goEscapeError</span>       <span class=nx>display</span> <span class=nx>contained</span> <span class=p>+</span>\\[^<span class=m>0-7</span>xuUabfnrtv\\&#39;&#34;]<span class=p>+</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goEscapeOctal</span>       <span class=nx>goSpecialString</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goEscapeC</span>           <span class=nx>goSpecialString</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goEscapeX</span>           <span class=nx>goSpecialString</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goEscapeU</span>           <span class=nx>goSpecialString</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goEscapeBigU</span>        <span class=nx>goSpecialString</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goSpecialString</span>     <span class=nx>Special</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goEscapeError</span>       <span class=nx>Error</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Strings and their contents</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>cluster</span>     <span class=nx>goStringGroup</span>       <span class=nx>contains</span><span class=p>=</span><span class=nx>goEscapeOctal</span><span class=p>,</span><span class=nx>goEscapeC</span><span class=p>,</span><span class=nx>goEscapeX</span><span class=p>,</span><span class=nx>goEscapeU</span><span class=p>,</span><span class=nx>goEscapeBigU</span><span class=p>,</span><span class=nx>goEscapeError</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>region</span>      <span class=nx>goString</span>            <span class=nx>contained</span> <span class=nx>start</span><span class=p>=+</span><span class=s2>&#34;+ skip=+\\\\\|\\&#34;</span><span class=p>+</span> <span class=nx>end</span><span class=p>=+</span>&#34;<span class=p>+</span> <span class=nx>contains</span><span class=p>=</span>@<span class=nx>goStringGroup</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>region</span>      <span class=nx>goRawString</span>         <span class=nx>contained</span> <span class=nx>start</span><span class=p>=+</span>`<span class=p>+</span> <span class=nx>end</span><span class=p>=+</span>`<span class=p>+</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goString</span>            <span class=nx>String</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goRawString</span>         <span class=nx>String</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Characters; their contents</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>cluster</span>     <span class=nx>goCharacterGroup</span>    <span class=nx>contains</span><span class=p>=</span><span class=nx>goEscapeOctal</span><span class=p>,</span><span class=nx>goEscapeC</span><span class=p>,</span><span class=nx>goEscapeX</span><span class=p>,</span><span class=nx>goEscapeU</span><span class=p>,</span><span class=nx>goEscapeBigU</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>region</span>      <span class=nx>goCharacter</span>         <span class=nx>start</span><span class=p>=+</span><span class=s1>&#39;+ skip=+\\\\\|\\&#39;</span><span class=p>+</span> <span class=nx>end</span><span class=p>=+</span>&#39;<span class=p>+</span> <span class=nx>contains</span><span class=p>=</span>@<span class=nx>goCharacterGroup</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goCharacter</span>         <span class=nx>Character</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Integers</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goDecimalInt</span>        <span class=nx>contained</span> <span class=s2>&#34;\&lt;\d\+\([Ee]\d\+\)\?\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goHexadecimalInt</span>    <span class=nx>contained</span> <span class=s2>&#34;\&lt;0x\x\+\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goOctalInt</span>          <span class=nx>contained</span> <span class=s2>&#34;\&lt;0\o\+\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goOctalError</span>        <span class=nx>contained</span> <span class=s2>&#34;\&lt;0\o*[89]\d*\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>cluster</span>     <span class=nx>goInt</span>               <span class=nx>contains</span><span class=p>=</span><span class=nx>goDecimalInt</span><span class=p>,</span><span class=nx>goHexadecimalInt</span><span class=p>,</span><span class=nx>goOctalInt</span>
</span></span><span class=line><span class=cl><span class=c>&#34; Floating point</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goFloat</span>             <span class=nx>contained</span> <span class=s2>&#34;\&lt;\d\+\.\d*\([Ee][-+]\d\+\)\?\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goFloat</span>             <span class=nx>contained</span> <span class=s2>&#34;\&lt;\.\d\+\([Ee][-+]\d\+\)\?\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goFloat</span>             <span class=nx>contained</span> <span class=s2>&#34;\&lt;\d\+[Ee][-+]\d\+\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=c>&#34; Imaginary literals</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goImaginary</span>         <span class=nx>contained</span> <span class=s2>&#34;\&lt;\d\+i\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goImaginary</span>         <span class=nx>contained</span> <span class=s2>&#34;\&lt;\d\+\.\d*\([Ee][-+]\d\+\)\?i\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goImaginary</span>         <span class=nx>contained</span> <span class=s2>&#34;\&lt;\.\d\+\([Ee][-+]\d\+\)\?i\&gt;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goImaginary</span>         <span class=nx>contained</span> <span class=s2>&#34;\&lt;\d\+[Ee][-+]\d\+i\&gt;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goInt</span>        <span class=nx>Number</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goFloat</span>      <span class=nx>Number</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goImaginary</span>  <span class=nx>Number</span>
</span></span><span class=line><span class=cl><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>&#34; Token groups</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>cluster</span>     <span class=nx>gotplLiteral</span>     <span class=nx>contains</span><span class=p>=</span><span class=nx>goString</span><span class=p>,</span><span class=nx>goRawString</span><span class=p>,</span><span class=nx>goCharacter</span><span class=p>,</span>@<span class=nx>goInt</span><span class=p>,</span><span class=nx>goFloat</span><span class=p>,</span><span class=nx>goImaginary</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>keyword</span>     <span class=nx>gotplControl</span>     <span class=nx>contained</span>   <span class=k>if</span> <span class=k>else</span> <span class=nx>end</span> <span class=nx>range</span> <span class=nx>with</span> <span class=nx>template</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>keyword</span>     <span class=nx>gotplFunctions</span>   <span class=nx>contained</span>   <span class=nx>and</span> <span class=nx>html</span> <span class=nx>index</span> <span class=nx>js</span> <span class=nx>len</span> <span class=nx>not</span> <span class=nx>or</span> <span class=nx>print</span> <span class=nx>printf</span> <span class=nx>println</span> <span class=nx>urlquery</span> <span class=nx>eq</span> <span class=nx>ne</span> <span class=nx>lt</span> <span class=nx>le</span> <span class=nx>gt</span> <span class=nx>ge</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>gotplVariable</span>    <span class=nx>contained</span>   <span class=sr>/\$[^ ]*\&gt;/</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>match</span>       <span class=nx>goTplIdentifier</span>  <span class=nx>contained</span>   <span class=sr>/\.[^ ]*\&gt;/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>gotplControl</span>        <span class=nx>Keyword</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>gotplFunctions</span>      <span class=nx>Function</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span>     <span class=nx>goTplVariable</span>       <span class=nx>Special</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>region</span> <span class=nx>gotplAction</span> <span class=nx>start</span><span class=p>=</span><span class=s2>&#34;{{&#34;</span> <span class=nx>end</span><span class=p>=</span><span class=s2>&#34;}}&#34;</span> <span class=nx>contains</span><span class=p>=</span>@<span class=nx>gotplLiteral</span><span class=p>,</span><span class=nx>gotplControl</span><span class=p>,</span><span class=nx>gotplFunctions</span><span class=p>,</span><span class=nx>gotplVariable</span><span class=p>,</span><span class=nx>goTplIdentifier</span> <span class=nx>display</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>region</span> <span class=nx>gotplAction</span> <span class=nx>start</span><span class=p>=</span><span class=s2>&#34;\[\[&#34;</span> <span class=nx>end</span><span class=p>=</span><span class=s2>&#34;\]\]&#34;</span> <span class=nx>contains</span><span class=p>=</span>@<span class=nx>gotplLiteral</span><span class=p>,</span><span class=nx>gotplControl</span><span class=p>,</span><span class=nx>gotplFunctions</span><span class=p>,</span><span class=nx>gotplVariable</span> <span class=nx>display</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>region</span> <span class=nx>goTplComment</span> <span class=nx>start</span><span class=p>=</span><span class=s2>&#34;{{/\*&#34;</span> <span class=nx>end</span><span class=p>=</span><span class=s2>&#34;\*/}}&#34;</span> <span class=nx>display</span>
</span></span><span class=line><span class=cl><span class=nx>syn</span> <span class=nx>region</span> <span class=nx>goTplComment</span> <span class=nx>start</span><span class=p>=</span><span class=s2>&#34;\[\[/\*&#34;</span> <span class=nx>end</span><span class=p>=</span><span class=s2>&#34;\*/\]\]&#34;</span> <span class=nx>display</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span> <span class=nx>gotplAction</span> <span class=nx>PreProc</span>
</span></span><span class=line><span class=cl><span class=k>hi</span> <span class=nx>def</span> <span class=nx>link</span> <span class=nx>goTplComment</span> <span class=nx>Comment</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>let</span> <span class=nx>b</span>:<span class=nx>current_syntax</span> <span class=p>=</span> <span class=s2>&#34;gotmpl&#34;</span></span></span></code></pre></div><p class=sr-only>vim code snippet end</p></figure><p>Next, add the following <a href=https://neovim.io/doc/user/autocmd.html>autocmd</a> to your configuration to automatically set up correct highlighting when a <code>*.tmpl</code>
file is opened or created:</p><figure class="codeblock not-prose relative scroll-mt-8" id=codeblock-02><aside class="absolute right-0 top-0 hidden rounded-bl-sm rounded-tr-sm bg-white/10 px-2 py-1 text-white/70 transition-opacity md:inline-block"><div class="codeblock-meta flex max-w-xs flex-row items-center space-x-3"><div class="small-caps shrink cursor-default truncate font-mono text-xs" aria-hidden=true><span class=relative>lua</span></div><div><clipboard-copy type=button aria-label="Copy code to clipboard" title="Copy code to clipboard" class="block cursor-pointer transition-colors hover:text-sky-400" target="#codeblock-02 code"><svg fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard h-4 w-4" viewBox="0 0 24 24"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"/></svg></clipboard-copy></div><div><a href=#codeblock-02 class=block aria-label="Link to this code block" title="Link to this code block"><svg width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-link w-4 h-4 block" viewBox="0 0 24 24"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></div></div></aside><p class=sr-only>lua code snippet start</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=n>vim.api</span><span class=p>.</span><span class=n>nvim_create_autocmd</span><span class=p>({</span> <span class=s1>&#39;BufRead&#39;</span><span class=p>,</span> <span class=s1>&#39;BufNewFile&#39;</span> <span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>group</span> <span class=o>=</span> <span class=n>vim.api</span><span class=p>.</span><span class=n>nvim_create_augroup</span><span class=p>(</span><span class=s1>&#39;gotmpl_highlight&#39;</span><span class=p>,</span> <span class=p>{</span> <span class=n>clear</span> <span class=o>=</span> <span class=kc>true</span> <span class=p>}),</span>
</span></span><span class=line><span class=cl>  <span class=n>pattern</span> <span class=o>=</span> <span class=s1>&#39;*.tmpl&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>callback</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>filename</span> <span class=o>=</span> <span class=n>vim.fn</span><span class=p>.</span><span class=n>expand</span><span class=p>(</span><span class=s1>&#39;%:t&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>ext</span> <span class=o>=</span> <span class=n>filename</span><span class=p>:</span><span class=n>match</span><span class=p>(</span><span class=s1>&#39;.*%.(.-)%.tmpl$&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>-- Add more extension to syntax mappings here if you need to.</span>
</span></span><span class=line><span class=cl>    <span class=kd>local</span> <span class=n>ext_filetypes</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>go</span> <span class=o>=</span> <span class=s1>&#39;go&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>html</span> <span class=o>=</span> <span class=s1>&#39;html&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>md</span> <span class=o>=</span> <span class=s1>&#39;markdown&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>yaml</span> <span class=o>=</span> <span class=s1>&#39;yaml&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>yml</span> <span class=o>=</span> <span class=s1>&#39;yaml&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>if</span> <span class=n>ext</span> <span class=ow>and</span> <span class=n>ext_filetypes</span><span class=p>[</span><span class=n>ext</span><span class=p>]</span> <span class=kr>then</span>
</span></span><span class=line><span class=cl>      <span class=c1>-- Set the primary filetype</span>
</span></span><span class=line><span class=cl>      <span class=n>vim.bo</span><span class=p>.</span><span class=n>filetype</span> <span class=o>=</span> <span class=n>ext_filetypes</span><span class=p>[</span><span class=n>ext</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>-- Define embedded Go template syntax</span>
</span></span><span class=line><span class=cl>      <span class=n>vim.cmd</span><span class=p>(</span><span class=s>[[
</span></span></span><span class=line><span class=cl><span class=s>        syntax include @gotmpl syntax/gotmpl.vim
</span></span></span><span class=line><span class=cl><span class=s>        syntax region gotmpl start=&#34;{{&#34; end=&#34;}}&#34; contains=@gotmpl containedin=ALL
</span></span></span><span class=line><span class=cl><span class=s>        syntax region gotmpl start=&#34;{%&#34; end=&#34;%}&#34; contains=@gotmpl containedin=ALL
</span></span></span><span class=line><span class=cl><span class=s>      ]]</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=cl>  <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span></span></span></code></pre></div><p class=sr-only>lua code snippet end</p></figure><figure role=note id=admonition-00 aria-labelledby=admonition-caption-00 class="admonition note not-prose"><div class="flex items-center space-x-2 pb-2 font-semibold"><svg width="24" height="24" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-info block"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4m0-4h.01"/></svg><figcaption id=admonition-caption-00>Note</figcaption></div><div class="prose pl-8 text-inherit marker:text-inherit">The highlighting of Go template code doesn&rsquo;t always work as the main language highlighting takes precedence under some
circumstances. I would love to know if anyone has a fix for this!</div></figure></article><aside class="not-prose flex flex-col space-y-8 border-t pt-6"><section class="flex flex-col space-y-4"><h2 class="flex flex-row items-center space-x-2 text-lg font-semibold"><svg fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-shapes h-4 w-4" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.3 10a.7.7.0 01-.626-1.079L11.4 3a.7.7.0 011.198-.043L16.3 8.9a.7.7.0 01-.572 1.1z"/><rect width="7" height="7" x="3" y="14" rx="1"/><circle cx="17.5" cy="17.5" r="3.5"/></svg>
<span>Categories</span></h2><ul class="ml-6 flex flex-row flex-wrap items-center space-x-2"><li><a href=https://tapanyemre.github.io/blog/categories/neovim/ class="taxonomy category">Neovim</a></li><li><a href=https://tapanyemre.github.io/blog/categories/golang/ class="taxonomy category">Golang</a></li></ul></section><section class="flex flex-col space-y-4" aria-hidden=true><h2 class="flex flex-row items-center space-x-2 text-lg font-semibold"><svg fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-chart-network h-4 w-4" viewBox="0 0 24 24" aria-hidden="true"><path d="m13.11 7.664 1.78 2.672M14.162 12.788l-3.324 1.424M20 4l-6.06 1.515M3 3v16a2 2 0 002 2h16"/><circle cx="12" cy="6" r="2"/><circle cx="16" cy="12" r="2"/><circle cx="9" cy="15" r="2"/></svg>
<span>Graph</span></h2><content-network-graph class="h-64 ml-6" data-endpoint=/graph/index.json page=/notes/nvim-go-template-syntax-highlighting/></content-network-graph></section></aside></main><footer class="mt-20 border-t border-neutral-100 pt-2 text-xs"></footer></div></body></html>