<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=language content="en"><meta name=viewport content="width=device-width"><title>Draw.io for threat modeling | Yunus Emre Tapan
</title><meta name=description content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy."><link rel=icon type=image/svg+xml href=https://tapanyemre.github.io/blog/images/favicon.svg><link rel=icon type=image/png href=https://tapanyemre.github.io/blog/images/favicon.png><meta property="og:url" content="https://tapanyemre.github.io/blog/archive/blog/drawio-for-threat-modeling/"><meta property="og:site_name" content="Yunus Emre Tapan"><meta property="og:title" content="Draw.io for threat modeling"><meta property="og:description" content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="archive"><meta property="article:published_time" content="2018-10-05T00:00:00+00:00"><meta property="og:image" content="https://tapanyemre.github.io/blog/archive/blog/drawio-for-threat-modeling/attack-tree-elements_thumbnail.png"><meta itemprop=name content="Draw.io for threat modeling"><meta itemprop=description content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy."><meta itemprop=datePublished content="2018-10-05T00:00:00+00:00"><meta itemprop=wordCount content="659"><meta itemprop=image content="https://tapanyemre.github.io/blog/archive/blog/drawio-for-threat-modeling/attack-tree-elements_thumbnail.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tapanyemre.github.io/blog/archive/blog/drawio-for-threat-modeling/attack-tree-elements_thumbnail.png"><meta name=twitter:title content="Draw.io for threat modeling"><meta name=twitter:description content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy."><link rel=canonical href=https://tapanyemre.github.io/blog/archive/blog/drawio-for-threat-modeling/><link rel=stylesheet href=https://tapanyemre.github.io/blog/css/index.min.7dc5bce5e48ff3fe71c582eac851646db39f1a70e9dc6198c199a3189731869e.css integrity="sha256-fcW85eSP8/5xxYLqyFFkbbOfGnDp3GGYwZmjGJcxhp4=" crossorigin=anonymous><script src=https://tapanyemre.github.io/blog/js/main.d08dd7bf84e75145632853df5565c828a4a44de84df4bf08672d692241737c30.js integrity="sha256-0I3Xv4TnUUVjKFPfVWXIKKSkTehN9L8IZy1pIkFzfDA=" crossorigin=anonymous defer></script><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","email":"tapanyemre@gmail.com","name":"Yunus Emre Tapan","url":"https://tapanyemre.github.io/blog/about/"},"copyrightNotice":"Yunus Emre Tapan","description":"I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:\nSupport for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy.","headline":"Draw.io for threat modeling"}</script></head><body><div class="container mx-auto flex max-w-prose flex-col space-y-10 p-4 md:p-6"><header class="flex flex-row items-center justify-between"><div><a id=skip-nav class=sr-only href=#maincontent>Skip to main content</a>
<a class=font-semibold href=https://tapanyemre.github.io/blog/>Yunus Emre Tapan</a></div><nav><ul class="flex flex-row items-center justify-end space-x-4"><li><a href=https://tapanyemre.github.io/blog/about/>About</a></li><li><a href=https://tapanyemre.github.io/blog/posts/>Posts</a></li><li><a href=https://tapanyemre.github.io/blog/notes/>Notes</a></li><li><a href=https://tapanyemre.github.io/blog/graph/>Graph</a></li></ul></nav></header><main class="prose prose-slate relative md:prose-lg prose-h1:text-[2em]" id=maincontent><header><h1>Draw.io for threat modeling</h1><figure role=note id=admonition-archived aria-labelledby=admonition-caption-archived class="admonition note"><div class="flex space-x-2 items-center"><div><svg fill="none" viewBox="0 0 20 20" stroke-width="1" stroke="currentcolor" class="w-5 h-5 inline-block" aria-hidden="true"><path d="M13.981 2H6.018s-.996.0-.996 1h9.955c0-1-.996-1-.996-1zm2.987 3c0-1-.995-1-.995-1H4.027s-.995.0-.995 1v1h13.936V5zm1.99 1-.588-.592V7H1.63V5.408L1.041 6C.452 6.592.03 6.75.267 8c.236 1.246 1.379 8.076 1.549 9 .186 1.014 1.217 1 1.217 1h13.936s1.03.014 1.217-1c.17-.924 1.312-7.754 1.549-9 .235-1.25-.187-1.408-.777-2zM14 11.997c0 .554-.449 1.003-1.003 1.003H7.003A1.003 1.003.0 016 11.997V10h1v2h6v-2h1v1.997z"/></svg></div><div><figcaption id=admonition-caption-archived>Archived content</figcaption></div></div><div class="prose lg:prose-lg marker:text-inherit pt-3">This is an archived page from my old website. The content is probably out of date, but I have left it here in case you find it useful.</div></figure></header><p>I&rsquo;ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:</p><ul><li><strong>Support for Data Flow Diagrams (DFD) and Attack Trees:</strong> I believe these are essential for threat modeling. Sequence Diagrams are a plus too.</li><li><strong>Enjoyable and easy to use:</strong> It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don&rsquo;t provide them with a good tool, they probably won&rsquo;t do it.</li><li><strong>Free and cross-platform:</strong> It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization.</li><li><strong>Not web or &ldquo;Cloud&rdquo; based:</strong> It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else&rsquo;s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code.</li></ul><p>I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn&rsquo;t have elements for DFDs and Attack Trees, <a href="https://www.microsoft.com/en-us/download/details.aspx?id=49168">Microsoft Threat Modeling Tool</a> only runs on Windows, <a href=https://threatmodeler.com/>Threat Modeler</a> is web based, <a href=https://threatdragon.org/>Threat Dragon</a> felt awkward to work with, and <a href=http://dia-installer.de/index.html.en>Dia</a> is old, clunky and buggy.</p><p>I was pretty dissapointed with what I found, so I scratched my own itch and started work on a new Electron based app which I hoped would be the perfect fit for me, and hopefully many others. Doing the initial research for this, I came across the <a href=https://github.com/jgraph/mxgraph>mxgraph</a> project which seemed to be the perfect core diagramming component. Then I saw that it was used as part of a tool called <a href=https://www.draw.io/>draw.io</a> and that luckily turned out to be the perfect fit, with a bit of configuration and customization&mldr;</p><h3 id=dfd-and-attack-trees-in-drawio class="scroll-mt-8 group">DFD and Attack Trees in draw.io
<a href=#dfd-and-attack-trees-in-drawio class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block" aria-hidden=true title="Link to this heading" tabindex=-1><svg width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-link w-4 h-4 block" viewBox="0 0 24 24"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h3><p>Draw.io doesn&rsquo;t come with dedicated libraries for DFDs and attack trees, but it has all the elements. They are just spread across several different libraries. After playing around with the tool for a bit, I discovered that it&rsquo;s super easy to customize elements and adding them to custom libraries which can be exported for easy reuse. I created two new libraries with all you need for DFD and attack trees and <a href=https://github.com/michenriksen/drawio-threatmodeling>put them up on Github</a>.</p><h3 id=data-flow-diagrams class="scroll-mt-8 group">Data Flow Diagrams
<a href=#data-flow-diagrams class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block" aria-hidden=true title="Link to this heading" tabindex=-1><svg width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-link w-4 h-4 block" viewBox="0 0 24 24"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h3><p>These are the elements available in the <code>dfd.xml</code> library:</p><p><a href=dfd-elements.png><img src=dfd-elements_thumbnail.png class=image alt></a></p><figcaption class=caption>All elements in the DFD library.</figcaption><p>Apart from the classic DFD elements, the library also contains a note element, labels for assets, threat actors, security controls, and convenient tables for documenting them directly in the diagram.</p><p>To show you how it all works together, I&rsquo;ve created a diagram of a simple, fictitious system:</p><p><a href=dfd.png><img src=dfd_thumbnail.png class=image alt></a></p><figcaption class=caption>A DFD of a simple, fictitious system.</figcaption><h3 id=attack-trees class="scroll-mt-8 group">Attack Trees
<a href=#attack-trees class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block" aria-hidden=true title="Link to this heading" tabindex=-1><svg width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-link w-4 h-4 block" viewBox="0 0 24 24"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h3><p>These are the elements available in the <code>attack-tree.xml</code> library:</p><p><a href=attack-tree-elements.png><img src=attack-tree-elements_thumbnail.png class=image alt></a></p><figcaption class=caption>All elements in the DFD library.</figcaption><p>To show you how these work together, I have recreated the classic <em>Open Safe</em> attack tree:</p><p><a href=attack-tree.png><img src=attack-tree_thumbnail.png class=image alt></a></p><figcaption class=caption>An attack tree exploring how to open a safe.</figcaption><h3 id=getting-set-up class="scroll-mt-8 group">Getting set up
<a href=#getting-set-up class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block" aria-hidden=true title="Link to this heading" tabindex=-1><svg width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-link w-4 h-4 block" viewBox="0 0 24 24"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h3><ol><li><a href=https://about.draw.io/integrations/#integrations_offline>Download</a> and install draw.io for your operating system</li><li>Clone or download the <a href=https://github.com/michenriksen/drawio-threatmodeling>Github repository</a></li><li>Open draw.io application and create a new blank diagram</li><li>Click the <em>File</em> menu and then click <em>Open Library&mldr;</em></li><li>Navigate to where you put the Github repository and open one of the XML files</li></ol><p>Congratulations! You are now ready to threat model. To make draw.io even nicer, I can recommend turning on the <em>Minimal</em> theme by clicking the <em>Extras</em> menu and selecting the Minimal theme. This makes the UI cleaner and gives more space for actual diagramming.</p><p>I hope that you will find this helpful and make it easier and more joyful to threat model for you and your team.</p></main><footer class="mt-20 border-t border-neutral-100 pt-2 text-xs"></footer></div></body></html>